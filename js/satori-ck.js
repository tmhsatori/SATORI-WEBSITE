// Fix pages to fit the viewport at all times
function hideSlides(){$("#home-interior, #about-interior, #solutions-interior, #approach-interior, #contact-interior, #home-exterior, #about-exterior, #solutions-exterior, #approach-exterior, #contact-exterior").hide()}function hideInteriorSlides(){$("#home-interior, #about-interior, #solutions-interior, #approach-interior, #contact-interior").hide()}function hideExteriorSlides(){$("#home-exterior, #about-exterior, #solutions-exterior, #approach-exterior, #contact-exterior").hide()}function resizeDiv(){var e=$(window).width(),t=$(window).height(),n=$("nav"),r=n.css("height").replace("px",""),i=r;ih=t-i;$("#exterior-page, #interior-page").css({height:t+"px"});if(pageState=="exterior"){$("#interior-page").css({height:t+"px"});$("#interior-page").css({bottom:-ih+"px"})}}function mainNavControl(){$("#main-nav li").click(function(e){e.preventDefault();var t=$(this).attr("id"),n="#"+t+"-interior",r="#"+t+"-exterior",i=t+"-color";if(t!="twitter"&&t!="facebook"){$("#main-nav li#home, #main-nav li#about, #main-nav li#solutions, #main-nav li#approach, #main-nav li#contact, #main-nav").removeClass();$(this).addClass("active");$("#main-nav").addClass(i)}var s=$("Slide").css("bottom"),o=$("#interior-page").css("bottom").replace("px",""),u=o;if(t!="twitter"&&t!="facebook"){if(pageState=="interior"&t=="home"){hideExteriorSlides();$(n).fadeOut();$(r).fadeIn();$(".subnav").delay(100).fadeOut();$(".subnav").delay(100).css({height:"0px"});$("#interior-page").stop().animate({bottom:-ih+"px"},1500,"easeOutQuint");pageState="exterior"}else if(pageState=="interior"){hideInteriorSlides();$(n).fadeIn();pageState=="exterior"}else if(pageState=="exterior"&t=="home")e.preventDefault();else if(pageState=="exterior"){hideInteriorSlides();$(n).fadeIn();$("#interior-page").stop().animate({bottom:"0px"},500,"easeInQuad");$(".subnav").delay(100).fadeIn();$(".subnav").delay(100).animate({height:"40px"},500,"easeInQuad");pageState="interior"}}else alert("clicked on")})}function SlidenavUp(){$(".more").unbind("click").click(function(e){var t=$(this).attr("href"),n=t+"-interior",r=t+"-exterior";e.preventDefault();hideInteriorSlides();$(n).fadeIn();$("#interior-page").stop().animate({bottom:"0px"},500,"easeInQuad");pageState="interior"})}function activeFunc(){$("#main-nav li a").unbind("click").click(function(e){var t=$(this).attr("id");if(pageState=="exterior"&$(this).hasClass("active")){$(this).css({cursor:"pointer"});e.stopPropagation()}else if(t!="twitter-icon"&&t!="facebook-icon"){$("#main-nav a").removeClass("active");$(this).css({cursor:"pointer"});$(this).addClass("active")}})}function satoriSlider(){$("ul.slider li").hide();vpw=$(window).width();i=vpw*2;$("ul.slider li").css({"margin-left":i+"px"});$("ul.slider li:first").css({"margin-left":"0px"}).show();$("ul.sub li a:first").addClass("activeSlide");$("ul.sub li").unbind("click").click(function(e){activeLink=$(this).find("a");if(activeLink.hasClass("activeSlide"))e.stopPropagation();else{k=$(this).attr("class");q=$("ul.slider li."+k);$("ul.slider li").removeClass("active");q.addClass("active");vph=$(window).height();navBar=$("nav");navBarHeight=navBar.css("height").replace("px","");subBar=$(".subnav").css("height").replace("px","");sb=subBar;nbh=navBarHeight;j=vph-nbh-sb;i=vpw*2;e.preventDefault();$("ul.sub li a").removeClass("activeSlide");$(this).find("a").addClass("activeSlide");b=$(this).attr("class");activeSlide=$("ul.slider li."+b);containerWidth=$("ul.slider").css("width");slideWidth=$("ul.slider li").css({width:containerWidth});$("ul.slider li").css({height:j+"px"});$("ul.slider li").animate({"margin-left":i+"px"},500,"easeInQuint");$("ul.slider li").fadeOut();$(activeSlide).fadeIn("slow");$(activeSlide).animate({"margin-left":"0px"},300,"easeOutQuint")}})}function slideHome(){var e=0,t=$("#exterior-page .carousel .item.active").index();$("a#satori-logo").on("click",function(){$("#exterior-page .carousel-linked-nav .active").removeClass("active");$("#project05").carousel(e);$("#exterior-page .carousel-linked-nav li:eq("+t+")").addClass("active")})}function carouselLinks(){$("#exterior-page .carousel-linked-nav > li > a").click(function(){var e=Number($(this).attr("href").substring(1));$("#exterior-page .carousel").carousel(e-1);$("#exterior-page .carousel-linked-nav .active").removeClass("active");$(this).parent().addClass("active");return!1})}function carouselSlidehome(){$("#exterior-page .carousel").bind("slid",function(){$("#exterior-page .carousel-linked-nav .active").removeClass("active");var e=$("#exterior-page .carousel .item.active").index();$("#exterior-page .carousel-linked-nav li:eq("+e+")").addClass("active");if(e===0){$("#exterior-page .carousel-linked-nav li:eq("+e+")").addClass("active");$("#main-nav").removeClass();$("#main-nav").addClass("home-color")}else if(e===1){$("#exterior-page .carousel-linked-nav li:eq("+e+")").addClass("active");$("#main-nav").removeClass();$("#main-nav").addClass("about-color")}else if(e===2){$("#exterior-page .carousel-linked-nav li:eq("+e+")").addClass("active");$("#main-nav").removeClass();$("#main-nav").addClass("solutions-color")}else if(e===3){$("#exterior-page .carousel-linked-nav li:eq("+e+")").addClass("active");$("#main-nav").removeClass();$("#main-nav").addClass("approach-color")}})}function carouselLinksApproach(){$("#approach-interior .carousel-linked-nav > li > a").click(function(){var e=Number($(this).attr("href").substring(1));$("#approach-interior .carousel").carousel(e-1);$("#approach-interior .carousel-linked-nav .active").removeClass("active");$(this).parent().addClass("active");return!1})}function lampLinksApproach(){$("#approach-interior .lamp-linked-nav > li > a").click(function(){var e=Number($(this).attr("href").substring(1));$("#approach-interior .carousel").carousel(e-1);$("#approach-interior .lamp-linked-nav .active").removeClass("active");$(this).parent().addClass("active");return!1})}function carouselSlideApproach(){var e=$(".lamp1, .lamp2, .lamp3, .lamp4"),t=$(".lampSmall1, .lampSmall2, .lampSmall3, .lampSmall4"),n=$(".lampBig1, .lampBig2, .lampBig3, .lampBig4"),r=$(".lamp1");n.hide();r.css({top:"60px",opacity:"1"});$(".lampSmall1").hide();$(".lampBig1").show();$("#approach-interior .carousel").bind("slid",function(){$("#approach-interior .carousel-linked-nav .active").removeClass("active");var r=$("#approach-interior .carousel .item.active").index();$("#approach-interior .carousel-linked-nav li:eq("+r+")").addClass("active");if(r===0){$("#approach-interior .carousel-linked-nav li:eq("+r+")").addClass("active");e.animate({top:"0",width:"300px"},900,"linear");e.css({opacity:".4"});$(".lamp1").animate({width:"282px",height:"350px"},100,"linear");$(".lamp1").css({opacity:"1"},100,"linear");t.fadeIn();n.hide();$(".lampSmall1").fadeOut();$(".lampBig1").fadeIn("fast")}else if(r===1){$("#approach-interior .carousel-linked-nav li:eq("+r+")").addClass("active");e.animate({top:"0",width:"300px"},900,"linear");e.css({opacity:".4"});$(".lamp2").animate({width:"282px",height:"350px"},100,"linear");$(".lamp2").css({opacity:"1"},100,"linear");t.fadeIn();n.hide();$(".lampSmall2").fadeOut();$(".lampBig2").fadeIn("fast")}else if(r===2){$("#approach-interior .carousel-linked-nav li:eq("+r+")").addClass("active");e.animate({top:"0",width:"300px"},900,"linear");e.css({opacity:".4"});$(".lamp3").animate({width:"282px",height:"350px"},100,"linear");$(".lamp3").css({opacity:"1"},100,"linear");t.fadeIn();n.hide();$(".lampSmall3").fadeOut();$(".lampBig3").fadeIn("fast")}else if(r===3){$("#approach-interior .carousel-linked-nav li:eq("+r+")").addClass("active");e.animate({top:"0",width:"300px"},900,"linear");e.css({opacity:".4"});$(".lamp4").animate({width:"282px",height:"350px"},100,"linear");$(".lamp4").css({opacity:"1"},100,"linear");t.fadeIn();n.hide();$(".lampSmall4").fadeOut();$(".lampBig4").fadeIn("fast")}})}var pageState;$(function(){pageState="exterior";resizeDiv();hideSlides();mainNavControl();activeFunc();satoriSlider();slideHome();carouselLinks();SlidenavUp();carouselLinksApproach();carouselSlidehome();lampLinksApproach();carouselSlideApproach();$(".subnav").hide();$(".subnav").css({height:"0px"});$("#home-exterior").show();window.onresize=function(e){resizeDiv()};$("#project05, #approachSlide").each(function(){$(this).carousel({interval:!1})})});